(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53456904"],{"2de6":function(t,e,s){"use strict";var n=s("d8db"),r=s.n(n);r.a},"4da3":function(t,e,s){"use strict";var n=s("e3bc"),r=s.n(n);r.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,s){var n=s("1d80"),r=s("5899"),o="["+r+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),c=function(t){return function(e){var s=String(n(e));return 1&t&&(s=s.replace(i,"")),2&t&&(s=s.replace(a,"")),s}};t.exports={start:c(1),end:c(2),trim:c(3)}},"6dad":function(t,e,s){},7156:function(t,e,s){var n=s("861d"),r=s("d2bb");t.exports=function(t,e,s){var o,i;return r&&"function"==typeof(o=e.constructor)&&o!==s&&n(i=o.prototype)&&i!==s.prototype&&r(t,i),t}},"7db0":function(t,e,s){"use strict";var n=s("23e7"),r=s("b727").find,o=s("44d2"),i=s("ae40"),a="find",c=!0,u=i(a);a in[]&&Array(1)[a]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!u},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},"8bde":function(t,e,s){"use strict";var n=s("da10"),r=s.n(n);r.a},a9e3:function(t,e,s){"use strict";var n=s("83ab"),r=s("da84"),o=s("94ca"),i=s("6eeb"),a=s("5135"),c=s("c6b6"),u=s("7156"),l=s("c04e"),p=s("d039"),f=s("7c73"),d=s("241c").f,h=s("06cf").f,m=s("9bf2").f,w=s("58a8").trim,b="Number",y=r[b],g=y.prototype,v=c(f(g))==b,I=function(t){var e,s,n,r,o,i,a,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=w(u),e=u.charCodeAt(0),43===e||45===e){if(s=u.charCodeAt(2),88===s||120===s)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(o=u.slice(2),i=o.length,a=0;a<i;a++)if(c=o.charCodeAt(a),c<48||c>r)return NaN;return parseInt(o,n)}return+u};if(o(b,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var k,A=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof A&&(v?p((function(){g.valueOf.call(s)})):c(s)!=b)?u(new y(I(e)),s,A):I(e)},_=n?d(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;_.length>x;x++)a(y,k=_[x])&&!a(A,k)&&m(A,k,h(y,k));A.prototype=g,g.constructor=A,i(r,b,A)}},d7ac:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("app-main-layout",[t.iAmAuthor?s("div",{staticClass:"author"},[s("app-button",{on:{click:t.handleNextStep}},[t._v("Suivant")]),s("div",{staticClass:"author-question"},[s("app-loader",{attrs:{timer:30}}),s("h2",[t._v(t._s(t.getAnswers.question))]),s("img",{staticClass:"picture",attrs:{src:t.getAnswers.image}}),s("app-show-owner-response",{attrs:{answers:t.getAnswers.responses}})],1)],1):s("div",{staticClass:"no-author"},[t.isScoreShow?s("div",[t.actualScore.success?s("h2",[t._v("BRAVO")]):s("h2",[t._v("DOMMAGE")]),s("p",[t._v("Votre score: "+t._s(t.actualScore.score))])]):[s("app-loader",{attrs:{timer:30}}),s("app-show-not-owner-response",{attrs:{answers:t.getAnswers.responses},on:{choose:function(e){return t.handleClickNotHownerResponse(e)}}})]],2)])},r=[],o=(s("7db0"),s("5530")),i=s("2f62"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.timer-t.time>=0?s("div",{staticClass:"AppLoader"},[s("div",{staticClass:"text"},[t._v(t._s(t.timer-t.time))]),s("svg",{attrs:{id:"L3",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 0 0","xml:space":"preserve"}},[s("circle",{staticStyle:{opacity:"0.8"},attrs:{fill:"transparent",stroke:"#3398db","stroke-width":"4",cx:"50",cy:"50",r:"44"}}),s("circle",{attrs:{fill:"#3398db",stroke:"#3398db","stroke-width":"3",cx:"8",cy:"54",r:"6"}},[s("animateTransform",{attrs:{attributeName:"transform",dur:"1s",type:"rotate",from:"90 50 48",to:"450 50 48",repeatCount:"indefinite"}})],1)])]):t._e()},c=[],u=(s("a9e3"),{name:"AppLoader",props:{timer:{type:Number,required:!0}},data:function(){return{interval:null,time:0}},mounted:function(){var t=this;this.interval=setInterval((function(){t.time=t.time+1,t.time>t.timer&&clearInterval(t.interval)}),1e3)}}),l=u,p=(s("4da3"),s("2877")),f=Object(p["a"])(l,a,c,!1,null,"83e41280",null),d=f.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"AppShowNotOwnerResponse"},t._l(t.answers,(function(e,n){return s("div",{key:e,staticClass:"response",style:{background:""+t.symbolsWithColor[n].color},on:{click:function(s){return t.handleClick(e)}}},[s("faIcon",{attrs:{icon:[].concat(t.symbolsWithColor[n].symbol)}})],1)})),0)},m=[],w={name:"AppShowNotOwnerResponse",props:{answers:{type:Array,required:!0}},data:function(){return{symbolsWithColor:[{symbol:["fas","caret-down"],color:"#ff4757"},{symbol:["fas","gem"],color:"#3398db"},{symbol:["far","circle"],color:"#ff9f43"},{symbol:["far","square"],color:"#1cca9b"}]}},methods:{handleClick:function(t){this.$emit("choose",t)}}},b=w,y=(s("ef11"),Object(p["a"])(b,h,m,!1,null,"5137a840",null)),g=y.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"AppShowNotOwnerResponse"},t._l(t.answers,(function(e,n){return s("div",{key:e,staticClass:"response",style:{background:""+t.symbolsWithColor[n].color}},[s("div",{staticClass:"left"},[s("faIcon",{attrs:{icon:[].concat(t.symbolsWithColor[n].symbol)}})],1),s("div",{staticClass:"right"},[t._v(t._s(e))])])})),0)},I=[],k={name:"AppShowOwnerResponse",props:{answers:{type:Array,required:!0}},data:function(){return{symbolsWithColor:[{symbol:["fas","caret-down"],color:"#ff4757"},{symbol:["fas","gem"],color:"#3398db"},{symbol:["far","circle"],color:"#ff9f43"},{symbol:["far","square"],color:"#1cca9b"}]}}},A=k,_=(s("8bde"),Object(p["a"])(A,v,I,!1,null,"401fa750",null)),x=_.exports,N={name:"AppGame",components:{AppShowNotOwnerResponse:g,AppShowOwnerResponse:x,AppLoader:d},data:function(){return{meeting:null,players:[],player:{},steps:[],questions:[],questionsIndex:0,author:null,isScoreShow:!1,actualScore:{score:0,success:!0}}},computed:Object(o["a"])({token:function(){return localStorage.getItem("token")},meetingId:function(){return this.$route.params.gameId},gamePlayer:function(){var t=this;return this.players.find((function(e){return e._id===t.ownPlayer._id}))},iAmAuthor:function(){return null!==this.author&&this.ownPlayer&&this.author===this.ownPlayer._id},getLastStep:function(){return this.steps[this.steps.length-1]},getAnswers:function(){return this.questions&&this.questions[this.questionsIndex]}},Object(i["b"])({ownPlayer:"player/getPlayer"})),mounted:function(){this.$socket.emit("joinRoom",this.meetingId),this.$store.dispatch("player/getPlayer"),this.$socket.emit("gameInit",{token:this.token,meetingIdentifier:this.meetingId})},sockets:{game:function(t){this.meeting=t,this.players=t.players,this.steps=t.steps,this.author=t.author,this.questions=t.questions,this.questionsIndex=t.questionsIndex}},methods:{getMessageAction:function(t){var e=t.players,s=t.action;this.$socket.emit(s,{token:this.token,meetingIdentifier:this.meetingId,players:e})},handleClickNotHownerResponse:function(t){var e=this,s=this.meeting.players.find((function(t){return t._id===e.token})).score,n=t===this.getAnswers.response;this.actualScore={score:s+(n?1:0),success:n},this.isScoreShow=n,this.$socket.emit("chooseResponse",{token:this.token,meetingIdentifier:this.meetingId,payload:t,time:new Date})},handleNextStep:function(){this.$socket.emit("nextStep",{token:this.token,meetingIdentifier:this.meetingId})}}},S=N,C=(s("2de6"),Object(p["a"])(S,n,r,!1,null,"2f41fd80",null));e["default"]=C.exports},d8db:function(t,e,s){},da10:function(t,e,s){},e3bc:function(t,e,s){},ef11:function(t,e,s){"use strict";var n=s("6dad"),r=s.n(n);r.a}}]);
//# sourceMappingURL=chunk-53456904.d4423ada.js.map