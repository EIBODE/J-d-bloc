(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60d59ae0"],{"4da3":function(t,e,s){"use strict";var n=s("e3bc"),r=s.n(n);r.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,s){var n=s("1d80"),r=s("5899"),o="["+r+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),c=function(t){return function(e){var s=String(n(e));return 1&t&&(s=s.replace(i,"")),2&t&&(s=s.replace(a,"")),s}};t.exports={start:c(1),end:c(2),trim:c(3)}},"6dad":function(t,e,s){},7156:function(t,e,s){var n=s("861d"),r=s("d2bb");t.exports=function(t,e,s){var o,i;return r&&"function"==typeof(o=e.constructor)&&o!==s&&n(i=o.prototype)&&i!==s.prototype&&r(t,i),t}},"7db0":function(t,e,s){"use strict";var n=s("23e7"),r=s("b727").find,o=s("44d2"),i=s("ae40"),a="find",c=!0,l=i(a);a in[]&&Array(1)[a]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!l},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},"867d":function(t,e,s){},a9e3:function(t,e,s){"use strict";var n=s("83ab"),r=s("da84"),o=s("94ca"),i=s("6eeb"),a=s("5135"),c=s("c6b6"),l=s("7156"),u=s("c04e"),p=s("d039"),d=s("7c73"),f=s("241c").f,h=s("06cf").f,m=s("9bf2").f,v=s("58a8").trim,y="Number",g=r[y],w=g.prototype,b=c(d(w))==y,_=function(t){var e,s,n,r,o,i,a,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=v(l),e=l.charCodeAt(0),43===e||45===e){if(s=l.charCodeAt(2),88===s||120===s)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(o=l.slice(2),i=o.length,a=0;a<i;a++)if(c=o.charCodeAt(a),c<48||c>r)return NaN;return parseInt(o,n)}return+l};if(o(y,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var I,A=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof A&&(b?p((function(){w.valueOf.call(s)})):c(s)!=y)?l(new g(_(e)),s,A):_(e)},k=n?f(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;k.length>C;C++)a(g,I=k[C])&&!a(A,I)&&m(A,I,h(g,I));A.prototype=w,w.constructor=A,i(r,y,A)}},ac46:function(t,e,s){"use strict";var n=s("867d"),r=s.n(n);r.a},d01a:function(t,e,s){},d57a:function(t,e,s){"use strict";var n=s("d01a"),r=s.n(n);r.a},d7ac:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("app-main-layout",[t.iAmAuthor?s("div",{staticClass:"author"},["loading"===t.step?[s("div",[t._v("LOADING...")])]:t._e(),"question"===t.step?[s("app-button",{on:{click:t.handleNextStep}},[t._v("Suivant")]),s("div",{staticClass:"author-question"},[s("app-loader",{attrs:{timer:30}}),s("h2",[t._v(t._s(t.getAnswers.question))]),s("img",{staticClass:"picture",attrs:{src:t.getAnswers.image}}),s("app-show-owner-response",{attrs:{answers:t.getAnswers.responses}})],1)]:"stats"===t.step?[s("app-button",{on:{click:t.handleNextStep}},[t._v("Suivant")]),s("div",[s("app-show-owner-response",{attrs:{answers:t.getAnswers.responses,response:t.getAnswers.response,stats:t.stats}})],1)]:"podium"===t.step?[s("div",[t._v("PODIUM")])]:[s("div",[t._v("FINAL PODIUM")])]],2):s("div",{staticClass:"no-author"},["loading"===t.step?[s("div",[t._v("LOADING...")])]:t._e(),"question"===t.step?[t.isScoreShow?s("div",{staticClass:"stats"},[t.actualScore.success?s("h2",{staticClass:"success"},[t._v("BRAVO")]):s("h2",{staticClass:"error"},[t._v("DOMMAGE")]),s("p",[t._v("Votre score: "+t._s(t.actualScore.score))])]):[s("app-loader",{attrs:{timer:30}}),s("app-show-not-owner-response",{attrs:{answers:t.getAnswers.responses},on:{choose:function(e){return t.handleClickNotHownerResponse(e)}}})]]:"stats"===t.step||"podium"===t.step?[s("div",{staticClass:"stats"},[t.actualScore.success?s("h2",{staticClass:"success"},[t._v("BRAVO")]):s("h2",{staticClass:"error"},[t._v("DOMMAGE")]),s("p",[t._v("Votre score: "+t._s(t.actualScore.score))])])]:[s("div",[t._v("FINAL PODIUM")])]],2)])},r=[],o=(s("7db0"),s("5530")),i=s("2f62"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.timer-t.time>=0?s("div",{staticClass:"AppLoader"},[s("div",{staticClass:"text"},[t._v(t._s(t.timer-t.time))]),s("svg",{attrs:{id:"L3",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 0 0","xml:space":"preserve"}},[s("circle",{staticStyle:{opacity:"0.8"},attrs:{fill:"transparent",stroke:"#3398db","stroke-width":"4",cx:"50",cy:"50",r:"44"}}),s("circle",{attrs:{fill:"#3398db",stroke:"#3398db","stroke-width":"3",cx:"8",cy:"54",r:"6"}},[s("animateTransform",{attrs:{attributeName:"transform",dur:"1s",type:"rotate",from:"90 50 48",to:"450 50 48",repeatCount:"indefinite"}})],1)])]):t._e()},c=[],l=(s("a9e3"),{name:"AppLoader",props:{timer:{type:Number,required:!0}},data:function(){return{interval:null,time:0}},mounted:function(){var t=this;this.interval=setInterval((function(){t.time=t.time+1,t.time>t.timer&&clearInterval(t.interval)}),1e3)}}),u=l,p=(s("4da3"),s("2877")),d=Object(p["a"])(u,a,c,!1,null,"83e41280",null),f=d.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"AppShowNotOwnerResponse"},t._l(t.answers,(function(e,n){return s("div",{key:e,staticClass:"response",style:{background:""+t.symbolsWithColor[n].color},on:{click:function(s){return t.handleClick(e)}}},[s("faIcon",{attrs:{icon:[].concat(t.symbolsWithColor[n].symbol)}})],1)})),0)},m=[],v={name:"AppShowNotOwnerResponse",props:{answers:{type:Array,required:!0}},data:function(){return{symbolsWithColor:[{symbol:["fas","caret-down"],color:"#ff4757"},{symbol:["fas","gem"],color:"#3398db"},{symbol:["far","circle"],color:"#ff9f43"},{symbol:["far","square"],color:"#1cca9b"}]}},methods:{handleClick:function(t){this.$emit("choose",t)}}},y=v,g=(s("ef11"),Object(p["a"])(y,h,m,!1,null,"5137a840",null)),w=g.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"AppShowNotOwnerResponse"},[""!==t.response?s("div",{staticClass:"stats"},[t._l(t.answers,(function(e,n){return[s("div",{key:e,staticClass:"column"},[s("div",{staticClass:"value",style:{color:""+t.symbolsWithColor[n].color}},[t._v(" "+t._s(t.getSizeByKey(e))+" "),e===t.response?s("faIcon",{attrs:{icon:["fas","check"]}}):t._e()],1),s("div",{staticClass:"bar",style:{background:""+t.symbolsWithColor[n].color,height:60+t.getPercentByKey(e)+"px"}},[s("faIcon",{attrs:{icon:[].concat(t.symbolsWithColor[n].symbol)}})],1)])]}))],2):t._e(),t._l(t.answers,(function(e,n){return s("div",{key:e,staticClass:"response",style:{background:""+t.symbolsWithColor[n].color,opacity:""===t.response||e===t.response?1:.3}},[s("div",{staticClass:"left"},[s("faIcon",{attrs:{icon:[].concat(t.symbolsWithColor[n].symbol)}})],1),s("div",{staticClass:"right"},[t._v(t._s(e))])])}))],2)},_=[],I=(s("4de4"),{name:"AppShowOwnerResponse",props:{answers:{type:Array,required:!0},response:{type:String,required:!1,default:""},stats:{type:Object,required:!1,default:null}},data:function(){return{symbolsWithColor:[{symbol:["fas","caret-down"],color:"#ff4757"},{symbol:["fas","gem"],color:"#3398db"},{symbol:["far","circle"],color:"#ff9f43"},{symbol:["far","square"],color:"#1cca9b"}]}},methods:{getSizeByKey:function(t){return this.stats.filter((function(e){return e===t})).length},getPercentByKey:function(t){var e=this.getSizeByKey(t);return 0===e?0:100*e/this.stats.length*3}}}),A=I,k=(s("ac46"),Object(p["a"])(A,b,_,!1,null,"28d0bf8d",null)),C=k.exports,S={name:"AppGame",components:{AppShowNotOwnerResponse:w,AppShowOwnerResponse:C,AppLoader:f},data:function(){return{counter:[],players:[],player:{},step:"question",stats:[],questions:[],questionsIndex:0,author:null,actualScore:{score:0,success:!0}}},computed:Object(o["a"])({token:function(){return localStorage.getItem("token")},meetingId:function(){return this.$route.params.gameId},gamePlayer:function(){var t=this;return this.players.find((function(e){return e._id===t.ownPlayer._id}))},iAmAuthor:function(){return null!==this.author&&this.ownPlayer&&this.author===this.ownPlayer._id},getLastStep:function(){return this.steps[this.steps.length-1]},getAnswers:function(){return this.questions&&this.questions[this.questionsIndex]},isScoreShow:function(){var t=this;return this.counter.find((function(e){return e===t.token}))}},Object(i["b"])({ownPlayer:"player/getPlayer"})),mounted:function(){this.$socket.emit("joinRoom",this.meetingId),this.$store.dispatch("player/getPlayer"),this.$socket.emit("gameInit",{token:this.token,meetingIdentifier:this.meetingId})},sockets:{game:function(t){this.players=t.players,this.step=t.step,this.counter=t.counter,this.stats=t.stats,this.author=t.author,this.questions=t.questions,this.questionsIndex=t.questionsIndex}},methods:{getMessageAction:function(t){var e=t.players,s=t.action;this.$socket.emit(s,{token:this.token,meetingIdentifier:this.meetingId,players:e})},handleClickNotHownerResponse:function(t){var e=this,s=this.players.find((function(t){return t._id===e.token})).score,n=t===this.getAnswers.response;this.actualScore={score:s+(n?1:0),success:n},this.isScoreShow=n,this.$socket.emit("chooseResponse",{token:this.token,meetingIdentifier:this.meetingId,payload:t,time:new Date})},handleNextStep:function(){this.$socket.emit("nextStep",{token:this.token,meetingIdentifier:this.meetingId})}}},N=S,x=(s("d57a"),Object(p["a"])(N,n,r,!1,null,"1fc99bbd",null));e["default"]=x.exports},e3bc:function(t,e,s){},ef11:function(t,e,s){"use strict";var n=s("6dad"),r=s.n(n);r.a}}]);
//# sourceMappingURL=chunk-60d59ae0.f7344a44.js.map